<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>AEMAPs: Release Notes</title>
<!-- --------------------------------------------------------------------------------------------------------------- -->
<style>
	body {
		font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
		font-size: 14px;
		color: #24292f;
	}
	code {
	  padding: 0;
	}
</style>
<!-- https://github.com/oscarmorrison/md-page -->
<script src="https://rawcdn.githack.com/oscarmorrison/md-page/master/md-page.js"></script>
<!-- https://github.com/oscarmorrison/md-page/blob/d6eb4109199b038a526598c51dd005274c8e9589/md-page.js -->
<!-- <script src="https://cdn.jsdelivr.net/gh/oscarmorrison/md-page@d6eb4109/md-page.js"></script> -->
<noscript>
</head>
<!-- --------------------------------------------------------------------------------------------------------------- -->
<body>

# AEMAPs: Замечания к выпускам
<!-- История изменений -->
<!-- 

&nbsp;

## yyy.mm.dd: R5 | v.0.0.0

### Новый функционал:

#### РИК:

#### М24:

### Изменения и багфиксы:

 -->

&nbsp;

## 2024.10.01: R5 | v.73.2.29

### Новый функционал:

#### РИК:

- Добавлен трансформируемый площадной элемент **MORPH**.

	Трансформация осуществляется по набору опорных **SUB**.
	Стили оформления следует применять только к первому **SUB**.
	Длительность анимации можно поменять в теге идентификации (`MORPH_01=10`).
	Можно использовать режим прямого копирования без вычислений с помощью предопределённого значения **OFF** для тега идентификации **VAR**.

- В круговые диаграммы добавлена поддержка посекторных вложенных счетчиков **SECTOR**/**COUNTER**.

### Изменения и багфиксы:

#### РИК:

- Исправлена анимация значков **SIGN** без хвостика.
- Добавлена синхронизация общего счетчика в круговые диаграммы **BUBBLE**.

&nbsp;

## 2024.05.28: R5 | v.73.2.11

### Новый функционал:

#### М24:

- Добавлены табличные элементы **ITEM** и столбчатые диаграммы **BAR**.

	Cчётчиком в **BAR** считается внутренний элемент с тегом **COUNTER**.
	Объекты **BAR** поддерживают возможность пропорционального отображения в составе маркированной группы.

- Добавлена возможность визуального разделения перекрывающихся **BUBBLE**.

### Изменения и багфиксы:

#### М24:

- Cчётчиком в **BUBBLE** теперь считается внутренний элемент с тегом **COUNTER**. Параметр **LNK** упразднён.
- Добавлено автоопределение направления анимации относительно **BUBBLE** для **VALUE** и **CAPTION** в составе **TICKET**.
<br>
+ *Система обновления*: Исправлена ошибка со спецсимволами в путях, отключена проверка сертификатов SSL.

&nbsp;

## 2024.02.03: R5 | v.73.2.1

### Новый функционал:

#### РИК:

- В объекты **BAR** добавлена возможность пропорционального отображения в составе столбчатой диаграммы.

	Работает для столбов верхнего уровня внутри **GROUP** при указании одного из параметров **BARV**/**BARH** (вертикальные/горизонтальные).
	Управление значением величины столба либо в теге идентификации после знака равенства `BAR_1=70`, либо через обычный текстовый счётчик.

### Изменения и багфиксы:

#### РИК:

- Cчётчиком в **BUBBLE** теперь считается внутренний элемент с тегом **COUNTER**. Параметр **LNK** упразднён.
- Cчётчиком в **BAR** теперь считается внутренний элемент с тегом **COUNTER**.
- Изменён способ маскировки в **BAR**. Теперь можно использовать скругленные углы.
- *Dev: Переход на удалённое управление авторизацией в системе обновлений.*

&nbsp;

## 2024.01.17: R5 | v.73.1.3

### Новый функционал:

#### РИК:

- Расширен режим вложенных объектов **BUBBLE**:

	Вложенные элементы могут располагаться за пределами родительского (анимация разлёта).
	Для квадратных баблов реализована направленная анимация (при наличии привязки к углу родителя).

- Групповой обработчик **SELECT** с единственным элементом внутри позволит им помигать.
	Управление через маркеры `blink_in` и `blink_out`.

#### М24:

- Добавлен альтернативный дизайн **CAPTION** с уголком.

### Изменения и багфиксы:

#### РИК:

- Исправлен баг с излишним смещением **CAPTION**.
- Улучшена плавность появления линий с широкой маской `LINE_01=100`.
- Исправлен баг с таймингом **HEADER**.

&nbsp;

## 2023.10.18: R5 | v.73.0

### Новый функционал:

- В режиме **SOLO** в меню выбора обработчика '*Select TAG*' расширен набор предустановленных вариантов с использованием имени слоя:

	`- name -`:	Использовать полное имя (выбранные объекты уже корректно проименованы).
	`- tag+var -`:	Использовать часть имени с тегами без учёта таймингов.
	`- tag -`:	Использовать только тег обработчика.

- Опция '**layer edges**' позволяет использовать предварительно выставленные границы слоя `inPoint/outPoint` вместо числовых таймингов.
	Для тех, кто не любит цифры.

### Изменения и багфиксы:

- **М24**: Исправлен баг с маской нулевой ширины (**CAPTION**, **VALUE**, **HEADER**).
- *UI*: Исправлено отображение имени файла в режиме **AUTO**: полный путь в корректной кодировке теперь отображается во всплывающей подсказке по наведению мыши.<!-- 	Исправлен баг с залипающей красной индикацией в интерфейсе, добавлены всплывающие подсказки. -->
- *Настройки*: Добавлена возможность сортировки списка обработчиков и выбора настроек по умолчанию.
- *Система обновления*: Исправлен баг с повтором, в окошко `About` добавлено отображение полной версии сборки.
- *Мануал*: Добавлены внешние ссылки на нумерованные пункты и индикация анимированных превьюшек.

&nbsp;

## 2023.09.20: R5 | v.71.2.5

### Новый функционал:

#### РИК:

- Поддержка движения пиктограммы по маршруту без автоориентации.
	Используйте **POINT** с предопределённым значением **NOTRK** для тега идентификации **VAR**.

#### М24:

- В объекты **VALUE** и **CAPTION** добавлено управление направлением анимации **L**/**T**/**R**/**B**.

### Изменения и багфиксы:

- **М24**: исправлена ошибка анимации **LINE**.

&nbsp;

## 2023.09.13: R5 | v.71.2.2

### Новый функционал:

- Инструмент для решения проблемы с импортом в AE стилей для групп PS.

	Создайте сервисный слой '**_style**' внутри группы с копией её стилей.

	*При копировании стилей в PS параметры `Layer Styles/Blending Options` не переносятся, их следует перенастроить вручную.*

&nbsp;

## 2023.09.06: R5 | v.71.2.1

### Новый функционал:

#### РИК:

- Поддержка нумерованных переходов в **SELECT**.

#### М24:

- Поддержка вложенных и разлетающихся **BUBBLE** (один уровень вложенности).
- Добавлены заголовки **HEADER**.

### Изменения и багфиксы:

- Ограничен размер отображения журнала предупреждений.

&nbsp;

## 2023.07.27: R5 | v.71.1.4

### Новый функционал:

#### РИК:

- Групповой обработчик **SELECT** для последовательной подсветки пунктов меню и т.п..

	Управление таймингами после обработки - через маркеры слоя `control`. Интервал по умолчанию `2с`. Маркеры можно добавлять или удалять.
	Чтобы сделать список с подсветкой, делаете копии пунктов с другой раскраской и кладёте их в селект. Можно аналогично мигать и самостоятельными объектами без копий.

#### М24:

- Добавлены линии **LINE** и маршруты **ROUTE** с поддержкой разных типов точек **DOT**/**POINT**/**PUNCH**.

### Изменения и багфиксы:

- Исправлена ошибка со стилями.

&nbsp;

## 2023.05.30: R5 | v.71.1

### Новый функционал:

#### РИК:

- В объекты **BUBBLE** добавлена возможность визуального разделения перекрывающихся баблов (вырезание кусочков с промежутком).
	Работает для баблов верхнего уровня внутри **GROUP**. Управление через параметр **GAP** контейнера **GROUP**. Опционально можно указать ширину зазора `GAP=10`.

#### М24:

- Добавлены обычные **BUBBLE**.

### Изменения и багфиксы:

- По просьбам телезрителей добавлена встроенная **система обновлений**.

	Наличие обновлений автоматически проверяется при старте скрипта. Также можно вызвать принудительно в окошке `About`.
	После обновления необходимо перезагрузить `АЕ`. На случай поломок в папке проекта сохраняется архив версии перед последним апдейтом `backup.zip`.

	*Система предназначена для сотрудников на удаленке, работающих за личными машинами. Не рекомендуется использование на рабочих серверах.*
<!-- 
Для энтузиастов:

На ОР теперь доступны шаблоны РИК, М24, Общий. В РИКовском можно переключать оформление.
Пока что на dev.cloudrender.ru, скоро переедет на основной.
 -->
&nbsp;
<!-- 
04/20/2023 1:02 AM
Для энтузиастов запущена пилотная версия AEMAPs  в связке с ОР.

Доступна на основном сервере в разделе Карты.
Пока что конфигурация РИК, шаблон минимальный.
Пока что достаточно просто скопипастить локальный путь в поле для PSD.

Для успешного использования необходима уверенность в корректности структуры отправляемого PSD, любые ошибки расцениваются как фейл задачи.

Эксперименты, обратная связь, и идеи применения приветствуются.
 -->
## 2023.04.13: R5 | v.71.0.2

### Принципиальные изменения:

- Поддержка работы в режиме обработчика без UI.

### Новый функционал:

#### РИК:

- В объекты **BAR**, **ITEM**, **HEADER** добавлено управление направлением анимации **L**/**T**/**R**/**B**.

#### М24:

- Добавлены круговые диаграммы **BUBBLE** + **SECTOR**, счётчик **COUNTER**.

### Изменения и багфиксы:

- Предупреждения и сообщения об ошибках теперь выводятся в одном окне с опциональной возможностью сохранить журнал работы в **лог-файл**.
	Журнал пишется с момента последнего нажатия `Apply`.

- Сообщение об успешном завершении *'Success'* теперь отображается только в строке состояния.

- По просьбам телезрителей снова убрана возможность отмены `Ctrl+Z` в режиме **AUTO**. 

&nbsp;

## 2023.01.19: R4 | v.70.1.2

### Новый функционал:

- Автогруппы поддерживают относительное смещение от края предыдущей анимации в любую сторону, используйте знаки (`GROUP_AUTO+0.5`, `GROUP_AUTO-0.5`).

- Камера: можно выбрать обработчик **MAP**, чтобы обработать слой как карту с учётом всех оверов внутри.

	- Для корректных переходов (без пересечений) между несколькими картами их следует обрабатывать в хронологическом порядке с учётом тайминга вложенных оверов (последовательно или контролируя порядок выделения).
	- Можно использовать в обычном режиме комплексной анимации (нажал и обработалось всё, что внутри, + камера, результат идентичен обычной группе).
	- Можно использовать в смешанном режиме (после предварительно проделанной анимации внутри, для уже анимированных объектов выставляется только камера).
	- Повторная обработка, как обычно, попытается закрыть карту, как и любой другой объект.
	- Ограничения те же: работает только из композиции с камерой, т.к. **OVER** должен быть связан с камерой цепочкой прекомпозов.

	*Обработчик работает дольше простых групп.*

- В релиз добавлена стабильная конфигурация для **М24**:

	- Типовые элементы: **TINT**/**TITLE**/**DOT**/**POINT**/**PUNCH**/**CAPTION**/**VALUE**.
	- Групповые обработчики: **TICKET**.

### Изменения и багфиксы:

- Частично решена проблема повторяющихся имён в проекте.
- В настройки добавлены тайминги анимации камеры.
- Мануалы разделены по темам.

&nbsp;

## 2022.11.02: R4 | 67.9.8

### Новый функционал:

- Текстовый счётчик **COUNTER**:

	- Требуется внутренний элемент с тегом **TEXT** (только один).
	- Текст должен содержать только цифры, точность счётчика определяется форматом указанного числа (25, 25.0, 0.25).
	- Элементы оформления не анимируются.
	- Разделителем целой и дробной части значений является точка.
	- При необходимости указать единицы, используйте дополнительный слой. 

&nbsp;

## 2022.10.26: R4 | 67.9.6

### Новый функционал:

- Карта-врезка **INSET**:

	- Создайте врезку в масштабе, соответствующем раскрытому состоянию, и заверните её в `Smart Object` с тегом **OUT**.
	- Наложите на объект `Vector Mask` необходимой формы (Не путать с `Clipping Mask`!).
	- Создайте копию объекта с тегом **IN**. Отмасштабируйте и расположите её для соответствия с основной картой и отключите.
	- При необходимости добавьте в группу произвольные объекты. (Они не режутся маской врезки.) 

&nbsp;

## 2022.10.12: R4 | v.67.9

### Новый функционал:

- Галка '**Disable collapse transformations**' в интерфейсе, принудительно отключает соответствующий флаг на слоях внутри обрабатываемого объекта.
	Освежает дыхание, облегчает понимание, сокращает время рендера.

&nbsp;

## 2022.09.26: R4 | v.67.8.1

### Новый функционал:

- Инфоблок: помести объекты в контейнер **SIDEBAR** и получи боковую панель.
	Анимация от ближайшей стороны/угла. Поддерживает корректировку **L**/**T**/**R**/**B**. Требуется геометрия **SUB**. 

&nbsp;

## 2022.09.07: R4 | v.67.8

### Новый функционал:

- Управление динамикой анимации пролёта пиктограммы вдоль линии независимо от её тайминга.
	Теперь можно дописать длительность пролёта после знака равенства (`POINT_TRK=2`). Закрывашка останется по таймингу.

- Возможность ручной корректировки направления анимации **LINE** в случае ошибки. Для этого в эффектах слоя сделан переключатель '**prg-rvrs**'.

### Изменения и багфиксы:

- Исправлена ошибка с анимацией по курсору таймлайна в шаблоне. 

&nbsp;

## 2022.08.11: R4 | v.67.7

### Новый функционал:

- Поддержка отложенной анимации выхода в режиме **SOLO**.

	Если анимация выхода не была применена сразу (в цепочке иерархии элемента отсутствуют теги **Te**), то повторный запуск выполнит принудительное закрытие к моменту, соответствующему позиции курсора на таймлайне (анимация слева). Это дает возможность управлять анимацией выхода в ручном режиме.

### Изменения и багфиксы:

- Счётчик в **BUBBLE**.
- *Dev: Поддержка набора обработчиков, общих для всех конфигураций.*

&nbsp;

## 2022.07.20: R4 | v.67.0

### Новый функционал:

- На каждом объекте выставляются сквозные ***маркеры*** анимации, при наличии таковой.

### Изменения и багфиксы:

- Объекты **CAPTION** и **VALUE** распознают диагональное расположение друг оносительно друга (горизонтальные плашки разной длины).

- Все объекты выбрасывают предупреждение *"Animation shift is out of range!"*, если начало анимации выхода происходит раньше конца анимации входа, за исключением групп без автотайминга. В некоторых случаях это не является проблемой.

	Поскольку границы анимации рассчитываются сквозным образом, предупреждение с объекта нижнего уровня повторят все вышестоящие объекты в иерархии - не пугайтесь количеству предупреждений, - по маркерам сразу видно, какой объект является причиной.

- Расширение файла скрипта в пневмопочте изменено на *'.jsx'* по просьбам телезрителей.
- В режим **AUTO** возвращена возможность штатной отмены (двухэтапная: сначала импорт и подготовка проекта, потом обработка).
- *Dev: Унифицирована система вызова режима. Множество багфиксов.*

&nbsp;

## 2022.06.09: R4 | v.65.1

### Новый функционал:

- Объекты **CAPTION** без указателя и **TITLE** поддерживают принудительную коррекцию направления анимации.
	Укажите одно из осевых направлений **L**/**T**/**R**/**B** в теге **VAR**.

### Изменения и багфиксы:

- Пунсон **PUNCH** анимируется зацикленно в отсутствие контейнера **TICKET**.
- Применение альтернативного обработчика в **SOLO** меняет только теги с сохранением комментария после пробела.
- Группа с автотаймингом выбрасывает предупреждение, если анимация контента не помещается в тайминг группы.

&nbsp;

## 2022.05.13: R4 | v.65.0

### Новый функционал:

- В группах с автотаймингом задержка может учитывать длительность анимации предыдущего элемента.
	Для этого вместо знака равенства используйте ***знак плюс*** (`GROUP_AUTO+0`, `GROUP_AUTO+0.5`).

### Изменения и багфиксы:

- В режиме **SOLO** курсор композиции перемещается на конец всей анимации.

&nbsp;

## 2022.04.22: R4 | v.64.0

### Новый функционал:

- Поддержка выноса объектов в плоскость экрана в режиме **SOLO**.
	(Используйте тег **INFO** в сочетании с соответствующим **OVER**).

### Изменения и багфиксы:

- Исправлена ошибка изменения длительности невыделенных объектов в режиме **SOLO**.
- Поля параметров в интерфейсе очищаются от значений по умолчанию при получении фокуса.
- В окошко `About` добавлена кнопка открытия полного мануала. 

&nbsp;

## 2022.03.29: R4 | v.63.0

### Новый функционал:

- Поддержка анимации иконок по маршруту в **ROUTE**.

	Для визуализации движения пиктограммы по маршруту используйте **POINT** с предопределённым значением **TRK** для тега идентификации **VAR**.
	(`POINT_TRK` или `POINT_01-TRK`). Динамика движения определяется таймингами **Ts**/**Te**.

	Если пиктограмма является единственным или вторым **POINT** в **ROUTE**, с ней будет синхронизирована анимация раскрытия базовой линии.

### Изменения и багфиксы:

- **HEADER** обрабатывает заголовки и без корешка.
- **BAR** сохраняет градиент статичным.
- **SECTOR** обрабатывает тайминг без лишних задержек.
- Отбивка разрядов в числовых значениях работает (**BAR**/**BUBBLE**).
- Исправлена ошибка `collapse` в режиме **SOLO**.
- В настройки добавлена возможность выбора режима и конфигурации по умолчанию.

&nbsp;

## 2022.02.03: R4 | v.62.8

### Принципиальные изменения:

- Появился режим работы **SOLO**, позволяющий обработать любой объект, выбранный вручную, в т.ч. неименованный, произвольным обработчиком, в отрыве от общего контекста. Данный функционал позволяет вносить точечные правки в полуручном режиме.

- Появилась поддержка различных конфигураций/шаблонов.

### Изменения в интерфейсе:

- Перед началом работы следует выбрать режим (по умолчанию **AUTO**, т.е. полная обработка, как и была) и конфигурацию (в отсутствие альтернатив автоматом выбирается единственная, сейчас это **RIK**, как и было).

- При выборе режима **SOLO** вместо кнопки выбора карты появляется список доступных обработчиков.

	Значение по умолчанию '**- name -**' соответствует обработке выбранного объекта в соответствии с его оригинальным именованием (например, вы внесли правки в уже собранную карту, объект уже корректно проименован, вы изменили цвет или геометрию).

	При выборе конкретного обработчика оригинальное имя объекта будет проигнорировано (например, вы собрали объект заново, и вам лень его именовать, или вы хотите проанимировать объект несоответствующей анимацией). В интерфейсе появится превью объекта и поля для указания опциональных параметров стандартного именования (**VAR**, **Ts**, **Te**).

	*Скрипт попытается применить выбранный способ анимации, насколько это возможно. Возможны ошибки при несоответствии структуры объекта выбранному способу анимации или из-за отстутствия элементов в окружении (например, в режиме **SOLO** отсутствует информация о тач-эффекте или иных объектах основной композиции шаблона).*

- *Dev: Переход на динамическую подгрузку библиотеки. Добавлен файл настроек `config.json`. Добавлено руководство разработчика.*

&nbsp;

## 2021.08.12: R3 | v.59.0

### Новый функционал:

- Обработчик **LINE** поддерживает указание толщины строка в пикселях в теге идентификации (**VAR**), например, `LINE_01=25`.
	По умолчанию значение по-прежнему `10px`. Предполагается, что это то же значение, которое вы выставляете в `PSD` (автоматически его считать, к сожалению, нельзя).

- Автомасштабирование плашек на перелетах для визуального сохранения размера.

	Для этого следует обернуть нужную плашку в **TICKET** с тегом идентификации **LNK** (`TICKET_LNK`), и такой же тег указать соответствующему этой плашке **OVER** (`OVER_LNK`).
	В тикет следует оборачивать объекты или группы объектов с единой точкой привязки (анкорпойнтом), т.е. если нужно привязать две плашки с разными центрами на карте, их нужно оборачивать каждую отдельно в свой тикет.

	*ВНИМАНИЕ! Опция высоконагруженная, т.к. геометрия связанных объектов будет пересчитываться в каждом фрейме, т.е. всё может изрядно тормозить.*

### Изменения и багфиксы:

- Закрывашки групп с автотаймингом всегда синхронные.
- Группы с автотаймингом не закрываются (стопарь), если в цепочке тегов отсутствует тайминг окончания.

&nbsp;

## 2019.12.23: R3 | v.58.0

### Новый функционал:

- Табличные элементы, столбчатые диаграммы: **ID**, **ITEM**, **BAR**.
- Пузырьковые/круговые диаграммы: **BUBBLE**, **SECTOR**.

### Изменения и багфиксы:

- Гипертекстовый мануал.
- *Dev: Масштабные изменения в архитектуре обработчиков. Переход на аниматоры.*

&nbsp;

## 2019.03.08: R3 | v.53.0

### Основной функционал:

- Типовые элементы: **HEADER**, **TINT**, **POINT**, **PUNCH**, **TITLE**, **LABEL**, **CAPTION**, **VALUE**, **SIGN**.
- Линейные элементы, маршруты: **LINE**, **ROUTE**.
- Групповые обработчики: **GROUP**, **TICKET**.
- Кадрирование и движение камеры: **OVER**.

### Примечания:

- *1st stable and tested release as `AEMAPs`.*

<!-- --------------------------------------------------------------------------------------------------------------- -->
</body>
</html>